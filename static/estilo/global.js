(function(a){a.fn.placeholder=function(b){return this.each(function(){if(!("placeholder" in document.createElement(this.tagName.toLowerCase()))){var c=a(this);var d=c.attr("placeholder");c.val(d).data("color",c.css("color")).css("color","#aaa");c.focus(function(){if(a.trim(c.val())===d){c.val("").css("color",c.data("color"))}}).blur(function(){if(!a.trim(c.val())){c.val(d).data("color",c.css("color")).css("color","#aaa")}})}})}}(jQuery));var menuYloc=null;var sortableCookieExpiry=365;var sortableCookie="sortable-order";var sortableName=".sortable";$(document).ready(function(){$(".chevron").click(function(){if($(this).hasClass("toggle-up")){if(!$.browser.msie){$(".shortcuts").slideUp()}else{$(".shortcuts").hide()}}else{if(!$.browser.msie){$(".shortcuts").slideDown()}else{$(".shortcuts").show()}}$(this).toggleClass("toggle-up")});$("select").each(function(){var a=this;$(this).attr("size",$(this).find("option").length+1).wrap('<span class="ui-select" />').before('<span class="ui-select-value" />').bind("change, click",function(){$(this).hide().prev().html($(this).find("option:selected").text())}).after('<a class="ui-select-button button button-gray"><span></span></a>').next().click(function(){if($(a).toggle().is(":visible")){$(a).focus()}return false}).prev().prev().html($(this).find("option:selected").text()).click(function(){if($(a).toggle().is(":visible")){$(a).focus()}return false});$(this).blur(function(){$(this).hide()}).parent().disableSelection()});$(":file").each(function(){var a=this;$(this).attr("size",25).wrap('<span class="ui-file" />').before('<span class="ui-file-value">No file chosen</span><button class="ui-file-button button button-gray">Browse...</button>').change(function(){$(a).parent().find(".ui-file-value").html($(this).val()?$(this).val():"No file chosen")}).hover(function(){$(a).prev().addClass("hover")},function(){$(a).prev().removeClass("hover")}).mousedown(function(){$(a).prev().addClass("active")}).bind("mouseup mouseleave",function(){$(a).prev().removeClass("active")}).parent().disableSelection()});$("[title]").tooltip({effect:"slide",offset:[-14,0],position:"top center",layout:"<div><em/></div>",onBeforeShow:function(){this.getTip().each(function(){if($.browser.msie){PIE.attach(this)}})},onHide:function(){this.getTip().each(function(){if($.browser.msie){PIE.detach(this)}})}}).dynamic({bottom:{direction:"down",bounce:true}});$(".accordion").tabs(".accordion section",{tabs:"header",effect:"slide",initialIndex:null});$("ul.tabs").tabs("div.panes > section");$("ul.sidebar-tabs").tabs("div.panes > section");$("input[placeholder]").placeholder();$(":date").wrap('<span class="ui-date" />').dateinput({trigger:true,format:"mm/dd/yyyy",selectors:true}).focus(function(){$(this).parent().addClass("ui-focused");return false}).blur(function(){$(this).parent().removeClass("ui-focused");return false});$(".message.closeable").prepend('<span class="message-close"></span>').find(".message-close").click(function(){$(this).parent().fadeOut(function(){$(this).remove()})});$(".has-popupballoon").click(function(){$(".popupballoon").fadeOut();$(this).next().fadeIn();return false});$(".popupballoon .close").click(function(){$(this).parents(".popupballoon").fadeOut()});if($("#wrapper > header").length>0){menuYloc=parseInt($("#wrapper > header").css("top").substring(0,$("#wrapper > header").css("top").indexOf("px")),10)}$(window).scroll(function(){var a=0;if($("#wrapper > header").length>0){a=menuYloc+$(document).scrollTop();if(!$.browser.msie){$("#wrapper > header").animate({opacity:($(document).scrollTop()<=10?1:0.8)})}}});if(!$.browser.msie){$("#wrapper > header").hover(function(){$(this).animate({opacity:1})},function(){$(this).animate({opacity:($(document).scrollTop()<=10?1:0.8)})})}$("body").append('<div class="apple_overlay black" id="overlay"><iframe class="contentWrap" style="width: 100%; height: 500px"></iframe></div>');$("a.help[rel]").overlay({effect:"apple",onBeforeLoad:function(){var a=this.getOverlay().find(".contentWrap");a.attr("src",this.getTrigger().attr("href"))}});$.tools.validator.fn("[type=time]","Please supply a valid time",function(a,b){return(/^\d\d:\d\d$/).test(b)});$.tools.validator.fn("[data-equals]","Value not equal with the $1 field",function(a){var b=a.attr("data-equals"),c=this.getInputs().filter("[name="+b+"]");return a.val()===c.val()?true:[b]});$.tools.validator.fn("[minlength]",function(a,c){var b=a.attr("minlength");return c.length>=b?true:{en:"Please provide at least "+b+" character"+(b>1?"s":"")}});$.tools.validator.localizeFn("[type=time]",{en:"Please supply a valid time"});$(".form").validator({position:"bottom left",offset:[5,0],messageClass:"form-error",message:"<div><em/></div>"});if($(sortableName).sortable){$(sortableName).sortable({cursor:"move",revert:500,opacity:0.7,appendTo:"body",handle:"header",items:".widget-container[draggable=true]",placeholder:"widget-placeholder grid_2",forcePlaceholderSize:true,start:function(a,b){b.item.addClass("start-drag")},stop:function(a,b){b.item.removeClass("start-drag")},update:function(a,b){if($.cookie){$.cookie(sortableCookie,$(this).sortable("toArray"),{expires:sortableCookieExpiry,path:"/"})}}}).disableSelection()}if($.cookie){restoreOrder(sortableName,sortableCookie)}$(".widget-container .widget").hover(function(){if(!$(this).parent().hasClass("start-drag")){$(this).find("header").animate({height:30}).parents(".widget-container").siblings(":not(.start-drag)").find("header").animate({height:4})}return false},function(){if(!$(this).parent().hasClass("start-drag")){$(this).find("header").animate({height:4})}return false}).find(".widget-close").click(function(){$(this).parents(".widget-container").fadeOut(function(){$(this).remove()});return false}).parents(".widget-container").each(function(){$(this).css({height:$(this).find(".widget").height()+30},"slow")});$(".widget.has-details > section").each(function(){var a=this;$(a).append('<a class="rollover" />').find(".rollover").attr("rel",$(a).prev().find("h2 > a").attr("rel")).hover(function(){$(this).animate({opacity:0.6})},function(){$(this).animate({opacity:0})}).parents(".widget").find(".rollover[rel]").overlay({effect:$.browser.msie?"default":"drop",top:"center",mask:{color:"#000",loadSpeed:200,opacity:0.5}})});if($.paginate){$("table.paginate").paginate({rows:10,buttonClass:"button-blue"})}if($.tablesort){$("table.tablesort").tablesort()}if($.selectable){$("table.selectable").selectable({onSelect:function(a){},onDeselect:function(a){}})}$("table tr a.view-details").each(function(){var b=$(this);$(this).next().overlay({effect:$.browser.msie?"default":"drop",top:"center",mask:{color:"#000",loadSpeed:200,opacity:0.5},onClose:function(){this.getOverlay().appendTo(b.parent())}})}).click(function(){$(this).next().appendTo("body").overlay().load();return false})});function restoreOrder(f,k){var h=$(f);if(!h){return}var b=$.cookie(k);if(!b){return}var d=b.split(",");var j=h.sortable("toArray");var g=[];for(var l=0;l<j.length;l++){g[j[l]]=j[l]}for(var e=0,c=d.length;e<c;e++){var a=d[e];if(a in g){$(f).append($(f).children("#"+a))}}}$.easing.drop=function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a};$.tools.overlay.addEffect("drop",function(d,a){var c=this.getConf(),b=this.getOverlay();if(c.fixed){d.position="fixed"}else{d.top+=$(window).scrollTop();d.left+=$(window).scrollLeft();d.position="absolute"}b.css(d).show();b.animate({top:"+=55",opacity:1,width:"+=20"},400,"drop",a)},function(a){this.getOverlay().animate({top:"-=55",opacity:0,width:"-=20"},300,"drop",function(){$(this).hide();a.call()})});